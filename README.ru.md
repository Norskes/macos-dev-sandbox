# macOS Sandbox - –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –æ–ø–∞—Å–Ω–æ–≥–æ –∫–æ–¥–∞ –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –Ω–∞ macOS, –∏—Å–ø–æ–ª—å–∑—É—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º `sandbox-exec`.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

   ```bash
   git clone https://github.com/your-username/macos-sandbox.git
   cd macos-sandbox
   ```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

   ```bash
   ./sandbox-setup.sh
   ```

3. –î–æ–±–∞–≤—å—Ç–µ —É—Ç–∏–ª–∏—Ç—É –≤ PATH (—Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–æ–∫–∞–∂–µ—Ç —Ç–æ—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã):

   ```bash
   # –í ~/.zshrc –∏–ª–∏ ~/.bashrc:
   export PATH="/–ø—É—Ç—å/–∫/macos-sandbox:$PATH"

   # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –∏–∑–º–µ–Ω–∏—Ç—å –±–∞–∑–æ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ~/Sandbox)
   export SANDBOX_BASE_DIR="/–∂–µ–ª–∞–µ–º—ã–π/–ø—É—Ç—å/–∫/–ø–µ—Å–æ—á–Ω–∏—Ü–µ"
   ```

4. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
   ```bash
   source ~/.zshrc  # –∏–ª–∏ source ~/.bashrc –¥–ª—è Bash
   ```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –û—Å–Ω–æ–≤–Ω–æ–π —Ä–µ–∂–∏–º (sandbox-exec)

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤–Ω—É—Ç—Ä–∏ –ø–µ—Å–æ—á–Ω–∏—Ü—ã:

   ```bash
   cd $SANDBOX_BASE_DIR/–≤–∞—à-–ø—Ä–æ–µ–∫—Ç
   ```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É —á–µ—Ä–µ–∑ sandbox:

   ```bash
   sandbox npm start
   sandbox yarn dev
   sandbox node server.js
   ```

### Docker —Ä–µ–∂–∏–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –≤ Docker —Å –∏–∑–æ–ª—è—Ü–∏–µ–π:

```bash
# –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
sandbox-docker git@github.com:user/repo.git

# –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ—Ä—Ç—ã
sandbox-docker https://github.com/user/repo.git --ports 3000,3001,8080

# –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ö–æ—Å—Ç—ã
sandbox-docker https://github.com/user/repo.git --hosts localhost,custom.host
```

–ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–æ—Ä—Ç—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

- 3000: React/Node
- 3001: API
- 5000: Python/Flask
- 5173: Vite
- 8000: Django
- 8080: Java/Tomcat
- 8081: Alternative Java
- 9000: PHP/Laravel
- 4200: Angular
- 1337: Strapi

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –û—Å–Ω–æ–≤–Ω–æ–π —Ä–µ–∂–∏–º (sandbox-exec)

- –ö–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –ø–µ—Å–æ—á–Ω–∏—Ü—ã ($SANDBOX_BASE_DIR)
- –î–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ:
  - –ß—Ç–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –≤–µ–∑–¥–µ (–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø–∞–∫–µ—Ç–Ω—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤)
  - –ó–∞–ø–∏—Å—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ –ø–µ—Å–æ—á–Ω–∏—Ü–µ–π –∏ —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º–∏
- –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ç–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –°–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã –ø—Ä–æ—Ñ–∏–ª–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### Docker —Ä–µ–∂–∏–º

- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤:
  - –ü–∞–º—è—Ç—å: 2GB
  - CPU: 2 —è–¥—Ä–∞
  - –õ–∏–º–∏—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ–≤: 100
  - –§–∞–π–ª–æ–≤—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã: 1024
- –°–µ—Ç—å:
  - –ü—Ä–æ–±—Ä–æ—Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö –ø–æ—Ä—Ç–æ–≤
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ö–æ—Å—Ç–æ–≤
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
  - –û—Ç–∫–ª—é—á–µ–Ω—ã –≤—Å–µ capabilities
  - –ó–∞–ø—Ä–µ—Ç –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π
  - –ò–∑–æ–ª—è—Ü–∏—è —Å–µ—Ç–∏ —á–µ—Ä–µ–∑ bridge

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ë–∞–∑–æ–≤–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø–µ—Å–æ—á–Ω–∏—Ü—ã:

```bash
export SANDBOX_BASE_DIR="/–∂–µ–ª–∞–µ–º—ã–π/–ø—É—Ç—å/–∫/–ø–µ—Å–æ—á–Ω–∏—Ü–µ"
```

–ü—Ä–æ—Ñ–∏–ª—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `$SANDBOX_BASE_DIR/sandbox.profile` –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø–æ–¥ –≤–∞—à–∏ –Ω—É–∂–¥—ã.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- macOS (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–æ—Å—å –Ω–∞ Sonoma 14.0+)
- Bash –∏–ª–∏ Zsh
- Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —Ä–µ–∂–∏–º–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤)

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–£—Ç–∏–ª–∏—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:

1. –û—Å–Ω–æ–≤–Ω–æ–π —Ä–µ–∂–∏–º (sandbox-exec):

   - –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –∏–∑–æ–ª—è—Ü–∏–∏ macOS
   - –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ç–µ–≤—ã–º–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤

2. Docker —Ä–µ–∂–∏–º:
   - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
   - –°–µ—Ç–µ–≤–∞—è –∏–∑–æ–ª—è—Ü–∏—è
   - –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîí –ò–∑–æ–ª—è—Ü–∏—è —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
- üåê –ö–æ–Ω—Ç—Ä–æ–ª—å —Å–µ—Ç–µ–≤—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- üìÅ –ó–∞—â–∏—Ç–∞ –ª–∏—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏ –¥–∞–Ω–Ω—ã—Ö
- ‚ö°Ô∏è –ù–∞—Ç–∏–≤–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–±–µ–∑ –æ–≤–µ—Ä—Ö–µ–¥–∞ Docker)
- üõ† –£–¥–æ–±—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

### –ú–µ—Ö–∞–Ω–∏–∑–º sandbox-exec

`sandbox-exec` - —ç—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ macOS, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ [Seatbelt](https://www.chromium.org/developers/design-documents/sandbox/osx-sandboxing-design/). –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç:

- –°–æ–∑–¥–∞–≤–∞—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ
- –£–ø—Ä–∞–≤–ª—è—Ç—å —Å–µ—Ç–µ–≤—ã–º–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏
- –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã

### –ü—Ä–æ—Ñ–∏–ª—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

–ü—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `sandbox.profile`:

```scheme
(version 1)
(allow default)

;; –ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª
(allow network* (remote ip "localhost"))     ; —Ä–∞–∑—Ä–µ—à–∞–µ–º localhost
(allow file-write* (subpath "/path"))       ; —Ä–∞–∑—Ä–µ—à–∞–µ–º –∑–∞–ø–∏—Å—å
(deny file-write* (subpath "/private"))     ; –∑–∞–ø—Ä–µ—â–∞–µ–º –∑–∞–ø–∏—Å—å
```

–ö–∞–∂–¥–æ–µ –ø—Ä–∞–≤–∏–ª–æ –º–æ–∂–µ—Ç:

- ‚úÖ –†–∞–∑—Ä–µ—à–∞—Ç—å (`allow`) –∏–ª–∏ ‚ùå –∑–∞–ø—Ä–µ—â–∞—Ç—å (`deny`) –¥–µ–π—Å—Ç–≤–∏—è
- üéØ –£–∫–∞–∑—ã–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—É—Ç–∏ –∏–ª–∏ —à–∞–±–ª–æ–Ω—ã
- üåê –û–ø—Ä–µ–¥–µ–ª—è—Ç—å —Å–µ—Ç–µ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞
- üîí –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã

### –£—Ä–æ–≤–Ω–∏ –∏–∑–æ–ª—è—Ü–∏–∏

1. **–§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞**:

   - –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –Ω–∞ —á—Ç–µ–Ω–∏–µ (–ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å npm/yarn)
   - –ó–∞–ø–∏—Å—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–µ–π Sandbox
   - –ó–∞—â–∏—Ç–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤

2. **–°–µ—Ç—å**:

   - –†–∞–∑—Ä–µ—à–µ–Ω localhost –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
   - –†–∞–∑—Ä–µ—à–µ–Ω—ã –∏—Å—Ö–æ–¥—è—â–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –¥–ª—è npm/yarn
   - –ö–æ–Ω—Ç—Ä–æ–ª—å –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

3. **–ü—Ä–æ—Ü–µ—Å—Å—ã**:
   - –ò–∑–æ–ª—è—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤–Ω—É—Ç—Ä–∏ –ø–µ—Å–æ—á–Ω–∏—Ü—ã
   - –ö–æ–Ω—Ç—Ä–æ–ª—å —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**:

   ```bash
   ./sandbox-setup.sh
   ```

   - –°–æ–∑–¥–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏
   - –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
   - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

2. **–ó–∞–ø—É—Å–∫ –∫–æ–º–∞–Ω–¥**:

   ```bash
   ./sandbox.sh 'npm start'
   ```

   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–∫—Ä—É–∂–µ–Ω–∏–µ
   - –ü—Ä–∏–º–µ–Ω—è–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
   - –ó–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ä–µ–¥–µ

3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**:
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫ –Ω–∞—Ä—É—à–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
   - –ö–æ–Ω—Ç—Ä–æ–ª—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ–¥—Ö–æ–¥–∞

1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**:

   - –ù–∞–¥–µ–∂–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
   - –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º
   - –ó–∞—â–∏—Ç–∞ –æ—Ç –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω–æ–≥–æ –∫–æ–¥–∞

2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**:

   - –ù–∞—Ç–∏–≤–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å macOS
   - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã
   - –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏

3. **–£–¥–æ–±—Å—Ç–≤–æ**:
   - –ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—É—Å–∫ –∫–æ–º–∞–Ω–¥
   - –ü—Ä–æ–∑—Ä–∞—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å npm/yarn
   - –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

1. **–°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**:

   - –¢–æ–ª—å–∫–æ macOS 10.15+
   - –¢—Ä–µ–±—É—é—Ç—Å—è –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ sandbox-exec
   - –ù–µ–æ–±—Ö–æ–¥–∏–º –¥–æ—Å—Ç—É–ø –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ Sandbox

2. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏**:

   - –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–∏—Å—Ç–µ–º–Ω—ã–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ç–∏
   - –ò–∑–æ–ª—è—Ü–∏—è –æ—Ç –¥—Ä—É–≥–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

3. **–û—Ç–ª–∞–¥–∫–∞**:
   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤
   - –ö–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞—Ä—É—à–µ–Ω–∏–π –ø—Ä–∞–≤–∏–ª
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

1. **–û—à–∏–±–∫–∞ "–ø—Ä–æ—Ñ–∏–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω"**

   - –í—ã–ø–æ–ª–Ω–∏—Ç–µ `sandbox-setup.sh`

2. **–û—à–∏–±–∫–∞ "–∫–æ–º–∞–Ω–¥–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –≤–Ω—É—Ç—Ä–∏ Sandbox"**

   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ `$SANDBOX_BASE_DIR` –∏–ª–∏ –µ—ë –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é: `ls -la $SANDBOX_BASE_DIR`
   - –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏: `chmod 700 $SANDBOX_BASE_DIR`

3. **–ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é: `ls -la $SANDBOX_BASE_DIR`
   - –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏: `chmod 700 $SANDBOX_BASE_DIR`

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
cd tests
./run_tests.sh          # –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
./run_tests.sh config.bats        # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
./run_tests.sh sandbox-docker.bats  # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Docker —Ä–µ–∂–∏–º–∞
```

–¢–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç [bats-core](https://github.com/bats-core/bats-core) –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ `~/.local/bin`.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

- `tests/config.bats` - —Ç–µ—Å—Ç—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- `tests/sandbox-docker.bats` - —Ç–µ—Å—Ç—ã Docker —Ä–µ–∂–∏–º–∞
- `tests/test_helper.bash` - –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `tests/run_tests.sh` - —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤

### Docker —Ä–µ–∂–∏–º

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –≤ Docker —Å –∏–∑–æ–ª—è—Ü–∏–µ–π:

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
sandbox-docker --help

# –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
sandbox-docker git@github.com:user/repo.git

# –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ—Ä—Ç—ã (–ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ)
sandbox-docker https://github.com/user/repo.git --ports 3000,3001,8080

# –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ö–æ—Å—Ç—ã (–ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ)
sandbox-docker https://github.com/user/repo.git --hosts test.local,dev.local
```

–ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–æ—Ä—Ç—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

- 3000: React/Node default
- 3001: API default
- 5000: Python/Flask
- 5173: Vite
- 8000: Django/Python
- 8080: Java/Tomcat
- 8081: Alternative Java
- 9000: PHP/Laravel
- 4200: Angular
- 1337: Strapi

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã —Å –ø–æ—Ä—Ç–∞–º–∏:

- –ï—Å–ª–∏ –ø–æ—Ä—Ç –∑–∞–Ω—è—Ç, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–π —Å–≤–æ–±–æ–¥–Ω—ã–π
- –ü—Ä–∏ —É–∫–∞–∑–∞–Ω–∏–∏ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –ø–æ—Ä—Ç–æ–≤ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
- –ö–∞–∂–¥—ã–π –ø–æ—Ä—Ç –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ internal:external

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã —Å —Ö–æ—Å—Ç–∞–º–∏:

- `localhost` –∏ `127.0.0.1` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –æ—Å–æ–±—ã–º –æ–±—Ä–∞–∑–æ–º
- –î–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Ö–æ—Å—Ç–æ–≤ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –º–∞–ø–ø–∏–Ω–≥ –Ω–∞ host-gateway
- –ü—Ä–∏ —É–∫–∞–∑–∞–Ω–∏–∏ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ö–æ—Å—Ç–æ–≤ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è

4. **–û—à–∏–±–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Ç–µ—Å—Ç–æ–≤**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –∑–∞–ø–∏—Å—å –≤ `~/.local`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `bats` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: `~/.local/bin/bats --version`
   - –ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —É–¥–∞–ª–∏—Ç–µ `~/.local/bin/bats` –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã
